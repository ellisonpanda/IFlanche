<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Login da Cantina - IFLanche</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="bg-light d-flex justify-content-center align-items-center vh-100">

  <div class="card shadow p-4" style="width: 100%; max-width: 400px;">
    <h3 class="text-center mb-3">ğŸ‘¨â€ğŸ³ Login da Cantina</h3>
    <p class="text-center mb-4 text-muted">Acesse com suas credenciais de administrador</p>

    {% if messages %}
      <div>
        {% for message in messages %}
          {% if "error" in message.tags %}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
          {% elif "success" in message.tags %}
            <div class="alert alert-success alert-dismissible fade show" role="alert">
          {% else %}
            <div class="alert alert-{{ message.tags|default:'info' }} alert-dismissible fade show" role="alert">
          {% endif %}
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fechar"></button>
            </div>
        {% endfor %}
      </div>
    {% endif %}

    <form method="post" action="{% url 'admin_login' %}" novalidate>
      {% csrf_token %}
      <div class="mb-3">
        <input
          type="text"
          name="username"
          class="form-control"
          placeholder="UsuÃ¡rio"
          required
          autofocus
        />
      </div>
      <div class="mb-3">
        <input
          type="password"
          name="password"
          class="form-control"
          placeholder="Senha"
          required
        />
      </div>
      <button type="submit" class="btn btn-primary w-100">
        Entrar
      </button>

      {% if erro %}
        <p class="text-danger text-center mt-3">{{ erro }}</p>
      {% endif %}

      <p class="mt-4 text-center">
        Ainda nÃ£o tem acesso? <a href="{% url 'registrar_admin' %}">Solicitar cadastro</a>
      </p>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
